import{S as N,i as E,s as O,E as P,D as A,M as F,e as h,a as M,c as $,b as w,d as b,f as u,m as c,t as m,g as d,h as k,j as g,o as T,k as C,G as q,l as H,n as B,F as G,p as I,L as J,P as R,q as U,r as z}from"./boundaries-27e0914f.js";function W(s){let t;return{c(){t=C("Start")},m(r,e){b(r,t,e)},d(r){r&&k(t)}}}function j(s){let t,r=s[6][0].properties.LAD23NM+"",e;return{c(){t=h("p"),e=C(r)},m(a,n){b(a,t,n),u(t,e)},p(a,n){n&64&&r!==(r=a[6][0].properties.LAD23NM+"")&&z(e,r)},d(a){a&&k(t)}}}function Z(s){let t,r=s[6]&&j(s);return{c(){r&&r.c(),t=U()},m(e,a){r&&r.m(e,a),b(e,t,a)},p(e,a){e[6]?r?r.p(e,a):(r=j(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){e&&k(t),r&&r.d(e)}}}function K(s){let t,r;return t=new R({props:{$$slots:{default:[Z,({features:e})=>({6:e}),({features:e})=>e?64:0]},$$scope:{ctx:s}}}),{c(){$(t.$$.fragment)},m(e,a){c(t,e,a),r=!0},p(e,a){const n={};a&192&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){r||(m(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function Q(s){let t,r,e,a;return t=new G({props:{paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":I(0,.5)},manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[K]},$$scope:{ctx:s}}}),t.$on("click",Y),e=new J({props:{paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},manageHoverState:!0}}),{c(){$(t.$$.fragment),r=M(),$(e.$$.fragment)},m(n,i){c(t,n,i),b(n,r,i),c(e,n,i),a=!0},p(n,i){const l={};i&128&&(l.$$scope={dirty:i,ctx:n}),t.$set(l)},i(n){a||(m(t.$$.fragment,n),m(e.$$.fragment,n),a=!0)},o(n){d(t.$$.fragment,n),d(e.$$.fragment,n),a=!1},d(n){n&&k(r),g(t,n),g(e,n)}}}function V(s){let t,r;return t=new q({props:{data:s[0],generateId:!0,$$slots:{default:[Q]},$$scope:{ctx:s}}}),{c(){$(t.$$.fragment)},m(e,a){c(t,e,a),r=!0},p(e,a){const n={};a&1&&(n.data=e[0]),a&128&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){r||(m(t.$$.fragment,e),r=!0)},o(e){d(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function X(s){let t,r,e,a,n,i,l,L,f,v,p,y;return n=new P({props:{errorMessage:s[2]}}),l=new A({props:{$$slots:{default:[W]},$$scope:{ctx:s}}}),l.$on("click",s[3]),p=new F({props:{style:"https://api.maptiler.com/maps/uk-openzoomstack-light/style.json?key=MZEJTanw3WpxRvt7qDfo",bounds:s[1],standardControls:!0,hash:!0,$$slots:{default:[V]},$$scope:{ctx:s}}}),p.$on("error",s[4]),{c(){t=h("div"),r=h("div"),e=h("p"),e.textContent="TODO, insert instructions / text",a=M(),$(n.$$.fragment),i=M(),$(l.$$.fragment),L=M(),f=h("div"),v=h("div"),$(p.$$.fragment),w(r,"class","govuk-grid-column-one-half left svelte-lyn11h"),w(v,"id","map"),w(v,"class","svelte-lyn11h"),w(f,"class","govuk-grid-column-one-half"),w(t,"class","govuk-grid-row")},m(o,_){b(o,t,_),u(t,r),u(r,e),u(r,a),c(n,r,null),u(r,i),c(l,r,null),u(t,L),u(t,f),u(f,v),c(p,v,null),y=!0},p(o,[_]){const S={};_&128&&(S.$$scope={dirty:_,ctx:o}),l.$set(S);const D={};_&129&&(D.$$scope={dirty:_,ctx:o}),p.$set(D)},i(o){y||(m(n.$$.fragment,o),m(l.$$.fragment,o),m(p.$$.fragment,o),y=!0)},o(o){d(n.$$.fragment,o),d(l.$$.fragment,o),d(p.$$.fragment,o),y=!1},d(o){o&&k(t),g(n),g(l),g(p)}}}function Y(s){window.location.href=`sketch.html?boundary=${s.detail.features[0].properties.LAD23NM}`}function x(s,t,r){let e={type:"FeatureCollection",features:[]};T(async()=>{H();let f=await fetch(B);r(0,e=await f.json())});let a=window.location.hash?void 0:[-8.943,54.631,-.901,59.489],i=new URLSearchParams(window.location.search).get("error")||"";return[e,a,i,()=>window.alert("TODO"),f=>{console.log(f.detail.error)}]}class ee extends N{constructor(t){super(),E(this,t,x,X,O,{})}}document.body.className+=" js-enabled"+("noModule"in HTMLScriptElement.prototype?" govuk-frontend-supported":"");new ee({target:document.getElementById("app")});
