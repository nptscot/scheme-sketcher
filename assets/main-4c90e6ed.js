import{S as G,i as I,s as J,E as R,e as P,M as U,a as c,b as L,c as v,d as g,f as C,g as u,m as b,t as k,h as w,j as N,k as y,l as z,o as B,n as O,p as T,G as W,q as Z,r as K,F as Q,u as V,L as X,P as Y,v as x}from"./boundaries-b5bc10c3.js";function F(a,r,t){const e=a.slice();return e[7]=r[t],e}function q(a){let r,t,e=a[7]+"",o,n;return{c(){r=c("li"),t=c("a"),o=O(e),g(t,"href",n="sketch.html?boundary="+a[7])},m(s,f){C(s,r,f),u(r,t),u(t,o)},p(s,f){f&2&&e!==(e=s[7]+"")&&T(o,e),f&2&&n!==(n="sketch.html?boundary="+s[7])&&g(t,"href",n)},d(s){s&&N(r)}}}function H(a){let r,t=a[6][0].properties.LAD23NM+"",e;return{c(){r=c("p"),e=O(t)},m(o,n){C(o,r,n),u(r,e)},p(o,n){n&64&&t!==(t=o[6][0].properties.LAD23NM+"")&&T(e,t)},d(o){o&&N(r)}}}function ee(a){let r,t=a[6]&&H(a);return{c(){t&&t.c(),r=x()},m(e,o){t&&t.m(e,o),C(e,r,o)},p(e,o){e[6]?t?t.p(e,o):(t=H(e),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},d(e){e&&N(r),t&&t.d(e)}}}function te(a){let r,t;return r=new Y({props:{$$slots:{default:[ee,({features:e})=>({6:e}),({features:e})=>e?64:0]},$$scope:{ctx:a}}}),{c(){v(r.$$.fragment)},m(e,o){b(r,e,o),t=!0},p(e,o){const n={};o&1088&&(n.$$scope={dirty:o,ctx:e}),r.$set(n)},i(e){t||(k(r.$$.fragment,e),t=!0)},o(e){w(r.$$.fragment,e),t=!1},d(e){y(r,e)}}}function re(a){let r,t,e,o;return r=new Q({props:{paint:{"fill-color":"rgb(200, 100, 240)","fill-outline-color":"rgb(200, 100, 240)","fill-opacity":V(0,.5)},manageHoverState:!0,hoverCursor:"pointer",$$slots:{default:[te]},$$scope:{ctx:a}}}),r.$on("click",ae),e=new X({props:{paint:{"line-color":"rgb(200, 100, 240)","line-width":2.5},manageHoverState:!0}}),{c(){v(r.$$.fragment),t=L(),v(e.$$.fragment)},m(n,s){b(r,n,s),C(n,t,s),b(e,n,s),o=!0},p(n,s){const f={};s&1024&&(f.$$scope={dirty:s,ctx:n}),r.$set(f)},i(n){o||(k(r.$$.fragment,n),k(e.$$.fragment,n),o=!0)},o(n){w(r.$$.fragment,n),w(e.$$.fragment,n),o=!1},d(n){n&&N(t),y(r,n),y(e,n)}}}function ne(a){let r,t;return r=new W({props:{data:a[0],generateId:!0,$$slots:{default:[re]},$$scope:{ctx:a}}}),{c(){v(r.$$.fragment)},m(e,o){b(r,e,o),t=!0},p(e,o){const n={};o&1&&(n.data=e[0]),o&1024&&(n.$$scope={dirty:o,ctx:e}),r.$set(n)},i(e){t||(k(r.$$.fragment,e),t=!0)},o(e){w(r.$$.fragment,e),t=!1},d(e){y(r,e)}}}function oe(a){let r,t,e,o,n,s,f,A,$,S,j,M,m,D;n=new R({props:{errorMessage:a[3]}});let _=P(a[1]),i=[];for(let l=0;l<_.length;l+=1)i[l]=q(F(a,_,l));return m=new U({props:{style:"https://api.maptiler.com/maps/uk-openzoomstack-light/style.json?key=MZEJTanw3WpxRvt7qDfo",bounds:a[2],standardControls:!0,hash:!0,$$slots:{default:[ne]},$$scope:{ctx:a}}}),m.$on("error",a[4]),{c(){r=c("div"),t=c("div"),e=c("p"),e.textContent="TODO, insert instructions / text",o=L(),v(n.$$.fragment),s=L(),f=c("p"),f.textContent="Choose a boundary below or on the map to begin sketching:",A=L(),$=c("ul");for(let l=0;l<i.length;l+=1)i[l].c();S=L(),j=c("div"),M=c("div"),v(m.$$.fragment),g(t,"class","govuk-grid-column-one-half left svelte-lyn11h"),g(M,"id","map"),g(M,"class","svelte-lyn11h"),g(j,"class","govuk-grid-column-one-half"),g(r,"class","govuk-grid-row")},m(l,h){C(l,r,h),u(r,t),u(t,e),u(t,o),b(n,t,null),u(t,s),u(t,f),u(t,A),u(t,$);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m($,null);u(r,S),u(r,j),u(j,M),b(m,M,null),D=!0},p(l,[h]){if(h&2){_=P(l[1]);let p;for(p=0;p<_.length;p+=1){const E=F(l,_,p);i[p]?i[p].p(E,h):(i[p]=q(E),i[p].c(),i[p].m($,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=_.length}const d={};h&1025&&(d.$$scope={dirty:h,ctx:l}),m.$set(d)},i(l){D||(k(n.$$.fragment,l),k(m.$$.fragment,l),D=!0)},o(l){w(n.$$.fragment,l),w(m.$$.fragment,l),D=!1},d(l){l&&N(r),y(n),z(i,l),y(m)}}}function ae(a){window.location.href=`sketch.html?boundary=${a.detail.features[0].properties.LAD23NM}`}function le(a,r,t){let e={type:"FeatureCollection",features:[]},o=[];B(async()=>{Z();let $=await fetch(K);t(0,e=await $.json()),t(1,o=e.features.map(S=>S.properties.LAD23NM)),o.sort()});let n=window.location.hash?void 0:[-8.943,54.631,-.901,59.489],f=new URLSearchParams(window.location.search).get("error")||"";return[e,o,n,f,$=>{console.log($.detail.error)}]}class se extends G{constructor(r){super(),I(this,r,le,oe,J,{})}}document.body.className+=" js-enabled"+("noModule"in HTMLScriptElement.prototype?" govuk-frontend-supported":"");new se({target:document.getElementById("app")});
